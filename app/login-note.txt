## 1. Regular Login Examples
### âœ… Successful Login (No Device Change)
Request:

```
{
Â Â "email":Â "user@example.com",
Â Â "password":Â "password123",
Â Â "device":Â {
Â Â Â Â "device_id":Â "user-existing-device",
Â Â Â Â "model":Â "iPhoneÂ 15"
Â Â },
Â Â "last_location":Â "40.753,-73.983"
}
```
Response (200 OK):

```
{
Â Â "token":Â 
Â Â "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Â Â "
}
```
### âš ï¸ Device Mismatch (Same User - Force Login Required)
Request:

```
{
Â Â "email":Â "user@example.com",
Â Â "password":Â "password123",
Â Â "device":Â {
Â Â Â Â "device_id":Â "user-new-device",
Â Â Â Â "model":Â "SamsungÂ Galaxy"
Â Â }
}
```
Response (409 Conflict):

```
{
Â Â "error":Â "DeviceÂ mismatchÂ detected",
Â Â "message":Â "YouÂ areÂ alreadyÂ loggedÂ inÂ 
Â Â onÂ anotherÂ device.Â PleaseÂ useÂ forceÂ 
Â Â loginÂ ifÂ youÂ wantÂ toÂ switchÂ devices.",
Â Â "current_device":Â {
Â Â Â Â "id":Â 
Â Â Â Â "550e8400-e29b-41d4-a716-446655440000"
Â Â Â Â ,
Â Â Â Â "device_id":Â "user-existing-device",
Â Â Â Â "model":Â "iPhoneÂ 15",
Â Â Â Â "last_login":Â "2024-01-15T10:30:00Z",
Â Â Â Â "last_ip":Â "192.168.1.100",
Â Â Â Â "last_location":Â "40.753,-73.983",
Â Â Â Â "created_at":Â "2024-01-01T00:00:00Z",
Â Â Â Â "deleted_at":Â "0001-01-01T00:00:00Z"
Â Â },
Â Â "requested_device":Â {
Â Â Â Â "id":Â 
Â Â Â Â "00000000-0000-0000-0000-000000000000"
Â Â Â Â ,
Â Â Â Â "device_id":Â "user-new-device",
Â Â Â Â "model":Â "SamsungÂ Galaxy",
Â Â Â Â "last_login":Â "0001-01-01T00:00:00Z",
Â Â Â Â "last_ip":Â "192.168.1.101",
Â Â Â Â "last_location":Â "",
Â Â Â Â "created_at":Â "0001-01-01T00:00:00Z",
Â Â Â Â "deleted_at":Â "0001-01-01T00:00:00Z"
Â Â },
Â Â "device_transfer_required":Â false,
Â Â "force_login_required":Â true
}
```
### âš ï¸ Device Transfer Required (Device Belongs to Another User)
Request:

```
{
Â Â "email":Â "user@example.com",
Â Â "password":Â "password123",
Â Â "device":Â {
Â Â Â Â "device_id":Â "other-user-device",
Â Â Â Â "model":Â "iPadÂ Pro"
Â Â }
}
```
Response (409 Conflict):

```
{
Â Â "error":Â "DeviceÂ mismatchÂ detected",
Â Â "message":Â "TheÂ requestedÂ deviceÂ isÂ 
Â Â currentlyÂ assignedÂ toÂ anotherÂ account.Â 
Â Â ForceÂ loginÂ willÂ transferÂ theÂ deviceÂ toÂ 
Â Â yourÂ account.",
Â Â "current_device":Â {
Â Â Â Â "id":Â 
Â Â Â Â "00000000-0000-0000-0000-000000000000"
Â Â Â Â ,
Â Â Â Â "device_id":Â "none",
Â Â Â Â "model":Â "none",
Â Â Â Â "last_login":Â "0001-01-01T00:00:00Z",
Â Â Â Â "last_ip":Â "",
Â Â Â Â "last_location":Â "",
Â Â Â Â "created_at":Â "0001-01-01T00:00:00Z",
Â Â Â Â "deleted_at":Â "0001-01-01T00:00:00Z"
Â Â },
Â Â "requested_device":Â {
Â Â Â Â "id":Â 
Â Â Â Â "660e8400-e29b-41d4-a716-446655440001"
Â Â Â Â ,
Â Â Â Â "device_id":Â "other-user-device",
Â Â Â Â "model":Â "iPadÂ Pro",
Â Â Â Â "last_login":Â "2024-01-14T15:45:00Z",
Â Â Â Â "last_ip":Â "192.168.1.102",
Â Â Â Â "last_location":Â "40.753,-73.983",
Â Â Â Â "created_at":Â "2024-01-10T00:00:00Z",
Â Â Â Â "deleted_at":Â "0001-01-01T00:00:00Z"
Â Â },
Â Â "device_transfer_required":Â true,
Â Â "force_login_required":Â true
}
```
### ğŸ”’ Security Issue Detected
Response (409 Conflict):

```
{
Â Â "error":Â "SecurityÂ issueÂ detected",
Â Â "message":Â "YourÂ currentÂ deviceÂ isÂ 
Â Â associatedÂ withÂ multipleÂ accounts.Â 
Â Â PleaseÂ contactÂ supportÂ orÂ useÂ forceÂ 
Â Â loginÂ toÂ resolveÂ thisÂ issue.",
Â Â "current_device":Â {
Â Â Â Â "id":Â 
Â Â Â Â "00000000-0000-0000-0000-000000000000"
Â Â Â Â ,
Â Â Â Â "device_id":Â "compromised-device",
Â Â Â Â "model":Â "unknown",
Â Â Â Â "last_login":Â "0001-01-01T00:00:00Z",
Â Â Â Â "last_ip":Â "",
Â Â Â Â "last_location":Â "",
Â Â Â Â "created_at":Â "0001-01-01T00:00:00Z",
Â Â Â Â "deleted_at":Â "0001-01-01T00:00:00Z"
Â Â },
Â Â "security_issue":Â true,
Â Â "requires_support":Â true,
Â Â "force_login_required":Â true
}
```
## 2. Force Login Examples
### âœ… Successful Force Login (No Device Transfer)
Request:

```
{
Â Â "email":Â "user@example.com",
Â Â "password":Â "password123",
Â Â "device":Â {
Â Â Â Â "device_id":Â "user-new-device",
Â Â Â Â "model":Â "SamsungÂ Galaxy"
Â Â },
Â Â "location":Â "Chicago,Â IL"
}
```
Response (200 OK):

```
{
Â Â "token":Â 
Â Â "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Â Â ",
Â Â "message":Â "ForceÂ loginÂ successful.Â 
Â Â PreviousÂ deviceÂ sessionÂ hasÂ beenÂ 
Â Â terminated.",
Â Â "previous_device":Â 
Â Â "user-existing-device"
}
```
### âœ… Successful Force Login with Device Transfer
Request:

```
{
Â Â "email":Â "user@example.com",
Â Â "password":Â "password123",
Â Â "device":Â {
Â Â Â Â "device_id":Â "other-user-device",
Â Â Â Â "model":Â "iPadÂ Pro"
Â Â },
Â Â "location":Â "Seattle,Â WA",
Â Â "confirm_device_transfer":Â true
}
```
Response (200 OK):

```
{
Â Â "token":Â 
Â Â "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Â Â ",
Â Â "message":Â "ForceÂ loginÂ successful.Â 
Â Â DeviceÂ transferredÂ fromÂ anotherÂ accountÂ 
Â Â andÂ previousÂ deviceÂ sessionÂ terminated.
Â Â ",
Â Â "previous_device":Â 
Â Â "user-existing-device"
}
```
### âŒ Device Transfer Confirmation Required
Request:

```
{
Â Â "email":Â "user@example.com",
Â Â "password":Â "password123",
Â Â "device":Â {
Â Â Â Â "device_id":Â "other-user-device",
Â Â Â Â "model":Â "iPadÂ Pro"
Â Â }
}
//Â MissingÂ confirm_device_transferÂ field
```
Response (409 Conflict):

```
{
Â Â "error":Â 
Â Â "device_transfer_confirmation_required",
Â Â "message":Â "ThisÂ deviceÂ isÂ currentlyÂ 
Â Â assignedÂ toÂ anotherÂ account.Â ExplicitÂ 
Â Â confirmationÂ isÂ required.",
Â Â "device_owner":Â {
Â Â Â Â "email":Â "other.user@example.com",
Â Â Â Â "last_login":Â "2024-01-14T15:45:00Z"
Â Â },
Â Â "required_action":Â "SetÂ 
Â Â 'confirm_device_transfer'Â toÂ trueÂ inÂ 
Â Â yourÂ requestÂ toÂ transferÂ thisÂ deviceÂ toÂ 
Â Â yourÂ account."
}
```
### âŒ Device Transfer Declined
Request:

```
{
Â Â "email":Â "user@example.com",
Â Â "password":Â "password123",
Â Â "device":Â {
Â Â Â Â "device_id":Â "other-user-device",
Â Â Â Â "model":Â "iPadÂ Pro"
Â Â },
Â Â "confirm_device_transfer":Â false
}
```
Response (409 Conflict):

```
{
Â Â "error":Â "device_transfer_declined",
Â Â "message":Â "DeviceÂ transferÂ wasÂ 
Â Â declined.Â ThisÂ deviceÂ isÂ currentlyÂ 
Â Â assignedÂ toÂ anotherÂ account.",
Â Â "device_owner":Â {
Â Â Â Â "email":Â "other.user@example.com",
Â Â Â Â "last_login":Â "2024-01-14T15:45:00Z"
Â Â },
Â Â "required_action":Â "SetÂ 
Â Â 'confirm_device_transfer'Â toÂ trueÂ toÂ 
Â Â transferÂ thisÂ deviceÂ toÂ yourÂ account."
}
```
## 3. Error Responses
### âŒ Invalid Credentials (401 Unauthorized)
```
{
Â Â "error":Â "InvalidÂ EmailÂ orÂ Password"
}
```
### âŒ Invalid Request Format (400 Bad Request)
```
{
Â Â "error":Â "InvalidÂ requestÂ format",
Â Â "details":Â "Key:Â 'UserLoginRequest.
Â Â Email'Â Error:FieldÂ validationÂ forÂ 
Â Â 'Email'Â failedÂ onÂ theÂ 'email'Â tag"
}
```
### âŒ Database Error (500 Internal Server Error)
```
{
Â Â "error":Â "DatabaseÂ error:Â connectionÂ 
Â Â refused"
}
```