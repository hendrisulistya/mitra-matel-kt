syntax = "proto3";

package grpc;

option go_package = "github.com/JoSoft/mitra-matel/proto_gen/proto/grpc";

// ==========================================================
// Messages
// ==========================================================

// Request for vehicle search
message VehicleSearchRequest {
  string nomor_polisi = 1;
  string nomor_rangka = 2;
  string nomor_mesin = 3;
}

// Basic vehicle info returned by the search
message VehicleSearchResponse {
  string id = 1;
  string nomor_polisi = 2;
  string tipe_kendaraan = 3;
  string data_version = 4;
  string finance_name = 5;
}

// Container for multiple vehicles (used in unary search response)
message VehicleList {
  repeated VehicleSearchResponse vehicles = 1;
}

// New detail request/response messages
message VehicleDetailRequest {
  string id = 1;
}

message VehicleDetailResponse {
  string nomor_polisi = 1;
  string nomor_rangka = 2;
  string nomor_mesin = 3;
  string tipe_kendaraan = 4;
  string finance_name = 5;
  string cabang = 6;
  string nomor_kontrak = 7;
  string warna_kendaraan = 8;
  string tahun_kendaraan = 9;
  string past_due = 10;
}

// ==========================================================
// Service Definition
// ==========================================================

// Simplified single service with unary RPCs only
service VehicleService {
  rpc SearchVehicle(VehicleSearchRequest) returns (VehicleList);
  rpc GetVehicleDetail(VehicleDetailRequest) returns (VehicleDetailResponse);
}
